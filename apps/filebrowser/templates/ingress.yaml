apiVersion: traefik.io/v1alpha1
kind: IngressRoute
metadata:
  name: {{ .Values.namespace.name }}-server
  namespace: filebrowser
spec:
  entryPoints:
    - websecure
    - web
  routes:
    - kind: Rule
      match: Host(`filebrowser.arcamh.com`)
      priority: 10
      middlewares:
        - name: auth
          namespace: traefik
      services:
        - name: {{ .Values.namespace.name }}-service
          namespace: filebrowser
          port: 80
